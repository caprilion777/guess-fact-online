<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–£–≥–∞–¥–∞–π —Ñ–∞–∫—Ç - –û–Ω–ª–∞–π–Ω</title>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <style>
    body { font-family: 'Inter', 'Segoe UI', 'Roboto', Arial, sans-serif; background: #f8fafc; margin: 0; padding: 0; }
    .container { max-width: 600px; margin: 40px auto; background: #fff; border-radius: 18px; box-shadow: 0 4px 32px #0001; padding: 32px 20px 28px 20px; border: 2.5px solid #e5e7eb; }
    .hidden { display: none; }
    .center { text-align: center; }
    .step { margin-bottom: 24px; }
    /* ... (–º–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ —Å—Ç–∏–ª–∏) ... */
  </style>
</head>
<body>
  <div class="container">
    <!-- –≠—Ç–∞–ø 1: –í—Ö–æ–¥ –≤ –∏–≥—Ä—É -->
    <div id="step-join" class="step">
      <h2>–£–≥–∞–¥–∞–π —Ñ–∞–∫—Ç - –û–Ω–ª–∞–π–Ω</h2>
      <div class="center">
        <button id="create-game-btn" class="primary-btn">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É</button>
        <button id="join-game-btn">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ</button>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 1.5: –í–≤–æ–¥ –∏–º–µ–Ω–∏ -->
    <div id="step-name" class="step hidden">
      <h2 id="name-title">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è</h2>
      <input type="text" id="player-name" placeholder="–í–∞—à–µ –∏–º—è" maxlength="20">
      <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä:</h3>
      <div id="avatar-choices" class="center"></div>
      <div class="center">
        <button id="confirm-name-btn" class="primary-btn" disabled>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 2: –õ–æ–±–±–∏ -->
    <div id="step-lobby" class="step hidden">
      <h2>–û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤</h2>
      <div class="room-code">
        –ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã: <span id="room-code-display"></span>
      </div>
      <div class="status" id="lobby-status">–û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤...</div>
      <h3>–ò–≥—Ä–æ–∫–∏ –≤ –∫–æ–º–Ω–∞—Ç–µ:</h3>
      <div id="players-list"></div>
      <div class="center">
        <button id="start-game-btn" class="primary-btn" disabled>–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        <button id="copy-link-btn">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–µ–¥—É—â–µ–≥–æ) -->
    <div id="step-setup" class="step hidden">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä—ã</h2>
      <div class="status">–í—ã - –≤–µ–¥—É—â–∏–π. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–≥—Ä—É –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤.</div>
      <label>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É:</label>
      <select id="theme-select">
        <option value="" disabled selected>‚Äî –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É ‚Äî</option>
        <option>–î–µ—Ç—Å—Ç–≤–æ</option>
        <option>–°–∫—Ä—ã—Ç—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã</option>
        <option>–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è</option>
        <option>–°—Ç—Ä–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</option>
        <option>–ú–æ–∏ —Å–µ–∫—Ä–µ—Ç—ã</option>
      </select>
      <div id="facts-container">
        <h3>–§–∞–∫—Ç—ã –¥–ª—è —É–≥–∞–¥—ã–≤–∞–Ω–∏—è:</h3>
        <div id="facts-list"></div>
        <button id="add-fact-btn">+ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–∫—Ç</button>
      </div>
      <div class="center">
        <button id="start-round-btn" class="primary-btn" disabled>–ù–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥</button>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 4: –û–∂–∏–¥–∞–Ω–∏–µ –≤–µ–¥—É—â–µ–≥–æ -->
    <div id="step-waiting" class="step hidden">
      <h2>–û–∂–∏–¥–∞–Ω–∏–µ –≤–µ–¥—É—â–µ–≥–æ</h2>
      <div class="status">–í–µ–¥—É—â–∏–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏–≥—Ä—É...</div>
      <div class="center">
        <div style="font-size: 2em; margin: 20px;">‚è≥</div>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 5: –£–≥–∞–¥—ã–≤–∞–Ω–∏–µ -->
    <div id="step-guessing" class="step hidden">
      <h2>–£–≥–∞–¥–∞–π, —á–µ–π —ç—Ç–æ —Ñ–∞–∫—Ç</h2>
      <div id="progress-display" class="center"></div>
      <div class="fact-display" id="current-fact"></div>
      <div class="guess-grid" id="players-guess-grid"></div>
      <div class="center">
        <button id="submit-guess-btn" class="primary-btn" disabled>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 6: –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="step-waiting-results" class="step hidden">
      <h2>–û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h2>
      <div class="status">–í—Å–µ —É–≥–∞–¥—ã–≤–∞—é—Ç...</div>
      <div class="center">
        <div style="font-size: 2em; margin: 20px;">ü§î</div>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 7: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
    <div id="step-results" class="step hidden">
      <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
      <div id="round-results"></div>
      <div class="center">
        <button id="next-round-btn" class="primary-btn">–°–ª–µ–¥—É—é—â–∏–π —Ñ–∞–∫—Ç</button>
        <button id="finish-game-btn">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É</button>
      </div>
    </div>
    <!-- –≠—Ç–∞–ø 8: –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
    <div id="step-final-results" class="step hidden">
      <h2>–ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
      <div id="final-results"></div>
      <div class="center">
        <button id="new-game-btn" class="primary-btn">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
      </div>
    </div>
  </div>
  <!-- –í–µ—Å—å —Ç–≤–æ–π JS-–∫–æ–¥ (–∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏) -->
  <script>
    // ... (–≤—Å—Ç–∞–≤—å —Å—é–¥–∞ JS-–∫–æ–¥ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é) ...
  </script>
</body>
</html>