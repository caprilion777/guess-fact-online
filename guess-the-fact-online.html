// ... существующий код ...
    function joinGame() {
      const name = document.getElementById('player-name').value.trim();
      
      if (!roomId) {
        // Создаём новую комнату
        roomId = generateRoomCode();
      }
      
      playerId = generatePlayerId();
      
      socket.emit('joinGame', {
        roomId,
        playerId,
        name,
        avatar: selectedAvatar,
        isHost
      });
      
      showStep('lobby');
      // updateLobby(); // УДАЛЕНО: теперь обновление только по gameState
    }
// ... существующий код ...
    function updateUI() {
      switch (gameState.phase) {
        case 'lobby':
          updateLobby();
          break;
        case 'guessing':
          updateGuessingUI();
          break;
      }
    }
// ... существующий код ...
